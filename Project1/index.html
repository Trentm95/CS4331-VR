<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Project 1</title>
  <meta name="description" content="CS4331 Project 1 - Trent Myers">

  <script src="js/aframe.js"></script>
  <script src="js/aframe-extras.min.js"></script>

  <script>
    function changeColor(color) {
        document.querySelector('#light').emit(color);
      };
  </script>
</head>

<body>
  <a-scene inspector="dev">

    <!-- Assets -->
    <a-assets>
      <img id="sky" src="assets/images/skybox.jpg">
      <a-asset-item id="house" src="assets/models/house.gltf"></a-asset-item>
      <a-asset-item id="bookshelf" src="assets/models/bookshelf.gltf"></a-asset-item>
      <a-asset-item id="fridge" src="assets/models/fridge.gltf"></a-asset-item>
      <a-asset-item id="kitchen_counter" src="assets/models/kitchen.gltf"></a-asset-item>
      <a-asset-item id="stove" src="assets/models/stove.gltf"></a-asset-item>
      <a-asset-item id="dining_table" src="assets/models/dining.gltf"></a-asset-item>
      <a-asset-item id="sofa" src="assets/models/sofa.gltf"></a-asset-item>
      <a-asset-item id="tv" src="assets/models/tv.gltf"></a-asset-item>
      <a-asset-item id="rug" src="assets/models/rug.gltf"></a-asset-item>
      <a-asset-item id="metal_shield" src="assets/models/metal_shield.gltf"></a-asset-item>
      <a-asset-item id="knight" src="assets/models/knight.gltf"></a-asset-item>
      <a-asset-item id="hanging_light" src="assets/models/hanging_light.gltf"></a-asset-item>
      <a-asset-item id="speaker" src="assets/models/speaker.gltf"></a-asset-item>
      <a-asset-item id="cutting_board" src="assets/models/cutting_board.gltf"></a-asset-item>
      <a-asset-item id="micro" src="assets/models/micro.gltf"></a-asset-item>
    </a-assets>
    <!-- END Assets -->

    <!-- Camera -->
    <a-entity position="0.428 0.1 -6.322" rotation="0 164.15240830498087 0">
      <a-camera universal-controls="movementSpeed: 2.0; rotationSensitivity: 0.1; movementEasing: 10; movementAcceleration: 30" position="0 0.6 0" rotation="-3.3231552117587753 30.71053781901214 0" camera="userHeight:0.4">
        <a-entity raycaster="far: 100; objects: .intersectable" cursor="fuse: true; fuseTimeout: 1500" geometry="primitive: ring; radiusOuter: 0.015;radiusInner: 0.01; segmentsTheta: 32" material="color: #283644; shader: flat" position="0 0 -0.75"></a-entity>
      </a-camera>
    </a-entity>

    <!-- Ambient Light -->
    <a-entity light="type: ambient; color: #BBB"></a-entity>

    <!-- Controllable Light -->
    <a-light id="light" type="point" color="black" intensity="0.4" position="-6.329 1.0 0.817">
        <audio id="cantina" src="assets/audio/cantina.mp3"></audio>
        <a-animation begin="red" attribute="color" from="black" to="red"></a-animation>
        <a-animation begin="blue" attribute="color" from="black" to="blue"></a-animation>
        <a-animation begin="green" attribute="color" from="black" to="green"></a-animation>
        <a-animation begin="white" attribute="color" from="black" to="white"></a-animation>
        <a-animation begin="black" attribute="color" from="black" to="black"></a-animation>
    </a-light>

    <!-- Skybox -->
    <a-sky src="#sky" rotation="0 -150 0"></a-sky>

    <!-- House -->
    <a-entity gltf-model="#house"></a-entity>

    <!-- Red Light Switch -->
    <a-box onclick="changeColor('red');" color="red" depth="0.1" height="0.1" width="0.1" class="intersectable" position="-2.675 1.18 0.925" rotation="0 -47.211722318779834 0"></a-box>

    <!-- Blue Light Switch -->
    <a-box onclick="changeColor('blue');" color="blue" depth="0.1" height="0.1" width="0.1" class="intersectable" position="-2.842 1.18 1.08" rotation="0 -47.211722318779834 0"></a-box>

    <!-- Green Light Switch -->
    <a-box onclick="changeColor('green');" color="green" depth="0.1" height="0.1" width="0.1" class="intersectable" position="-3.006 1.18 1.232" rotation="0 -47.212 0"></a-box>

    <!-- White Light Switch -->
    <a-box onclick="changeColor('white');" color="white" depth="0.1" height="0.1" width="0.1" class="intersectable" position="-3.161 1.18 1.375" rotation="0 -47.212 0"></a-box>

    <!-- Black Light Switch -->
    <a-box onclick="changeColor('black');" color="black" depth="0.1" height="0.1" width="0.1" class="intersectable" position="-3.325 1.18 1.527" rotation="0 -47.212 0"></a-box>

    <!-- Hanging Light -->
    <a-entity gltf-model="#hanging_light" position="-6.329 1.609 0.817" scale="10 3 10"></a-entity>

    <!-- Bookshelf -->
    <a-entity gltf-model="#bookshelf" position="-0.893 0.775 0.515" rotation="0 -162.0324644629968 0" scale="0.079 0.07 0.08"></a-entity>

    <!-- Speaker --> 
    <a-box material="color:white;transparent:true;opacity:0" geometry="depth: 0.74; width: 0.79; height: 1.8199999999999998" sound="src: #cantina; on: click" class="intersectable" position="-5.425 1.069 -4.026"></a-box>
    <a-entity gltf-model="#speaker" position="-5.425 1.069 -4.026" scale="0.08 0.08 0.08" sound="src: #cantina; on: click" class="intersectable"></a-entity>

    <!-- Fridge -->
    <a-entity gltf-model="#fridge" position="-0.684 0.157 -1.815" rotation="0 135.1607438713612 0" scale="1.1400000000000001 0.6 0.6"></a-entity>

    <!-- Microwave -->
    <a-entity gltf-model="#micro" position="3.494 0.902 -4.152" rotation="0 -44.86259535874346 0" scale="0.0015 0.0015 0.0015"></a-entity>

    <!-- Cutting Board -->
    <a-entity gltf-model="#cutting_board" position="4.24 0.929 -3.37" rotation="0 -44.748003799717296 0" scale="2 2 2"></a-entity>

    <!-- Kitchen Counter -->
    <a-entity gltf-model="#kitchen_counter" position="2.794 0 -5.301" rotation="0 44.86259535874346 0"></a-entity>

    <!-- Stove -->
    <a-entity gltf-model="#stove" position="5.219 0.743 -2.289" rotation="0 -134.5304902967173 0" scale="0.03 0.025 0.03"></a-entity>

    <!-- Dining Table -->
    <a-entity gltf-model="#dining_table" position="0.639 0.552 -3.966" rotation="0 46.12310250803127 0" scale="0.02 0.02 0.019999999999999997"></a-entity>

    <!-- Sofa -->
    <a-entity gltf-model="#sofa" position="-6.707 0.189 -0.58" rotation="0 42.62805995773325 0" scale="0.028 0.02 0.02"></a-entity>

    <!-- TV -->
    <a-entity gltf-model="#tv" position="-4.019 1.036 -1.825" rotation="0 -135.96288478454437 0" scale="0.02 0.02 0.02"></a-entity>

    <!-- Rug -->
    <a-entity gltf-model="#rug" position="-6.237 0.185 1.255" rotation="0 -45.95121516949202 0" scale="0.005 0.005 0.005"></a-entity>

    <!-- Shield -->
    <a-entity gltf-model="#metal_shield" position="-8.372 1.679 2.742" rotation="0 133.44187048596874 0" scale="0.5 0.5 0.5"></a-entity>

    <!-- Knight -->
    <a-entity gltf-model="#knight" position="-3.113 0.181 -2.984" rotation="2.0626480624709633 41.36755280844544 1.9480565034447992" scale="0.05 0.05 0.05"></a-entity>
  </a-scene>
</body>

</html>